<!--
Gif loading image
source: https://icons8.com/preloaders/
-->
{% extends "base.html" %}
{% block title %}Analytics{% endblock %}
{% block content %}
<div class="container">
    <h1>Analytics</h1>

<!--    Center this -->
    {% for i in range(data.charts | length) %}
        {% if i == 0 %}
            <div class="analytics-descriptor">
        {% elif i == 2 %}
            <h2>
                Positions
            </h2>
            <div class="analytics-descriptor positions">
        {% elif i == 6 %}
            <h2>
                Skills
            </h2>
            <div class="analytics-descriptor skills">
        {% elif i == 7 %}
            <h2>
                Other Users
            </h2>
            <div class="analytics-descriptor global">
        {% endif %}

        <div class="analytics-chart">
            <img class="analytics-chart" src="static/images/analytics/loading/inf-load-free.gif" id="chart{{data.charts[i]}}">
        </div>

        {% if i in [1, 4, 6, (data.charts | length) - 1] %}
            </div>
        {% endif %}
    {% endfor %}

    <button id="refreshData">
        Refresh
    </button>

    <div>
    <!-- Add in a search engine? -->
    </div>
</div>
{% endblock %}

{% block script %}

document.getElementById("refreshData").addEventListener("click", () => {
    window.location.reload();
})
getCharts({{data.charts | tojson }}, "{{g.user['users'][0]['localId']}}")

{% endblock %}